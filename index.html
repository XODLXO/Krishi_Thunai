<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Krishi Thunai - AI Farmer's Companion</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/a5e0b04a29.js" crossorigin="anonymous"></script>
    <!-- Load Custom Styles -->
    <link rel="stylesheet" href="style.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'krishi-green': '#10B981', // Emerald 500
                        'krishi-dark': '#047857',  // Emerald 700
                        'krishi-earth': '#4B5563', // Gray 600
                        'krishi-bg': '#F9FAFB',    // Gray 50
                        'krishi-orange': '#F59E0B',// Amber 500
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-krishi-bg font-sans">

    <!-- Global Navigation -->
    <nav class="bg-white shadow-lg p-4 sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center">
            <div class="text-2xl font-bold text-krishi-dark">
                <i class="fas fa-leaf text-krishi-green mr-2"></i> Krishi Thunai
            </div>
            <div class="space-x-4 flex items-center">
                <a href="#" class="nav-link" data-target="home">Home</a>
                <a href="#" class="nav-link" data-target="dashboard">Dashboard</a>
                <a href="#" class="nav-link" data-target="chat">Chatbot</a>
                <a href="#" class="nav-link" data-target="crop-analysis">Analysis</a>
                <button id="auth-btn" class="btn-primary-small">Login</button>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 md:p-8 mt-4">

        <!-- Home Section -->
        <section id="home" class="page-section p-8 bg-white rounded-xl shadow-2xl transition duration-300">
            <h1 class="text-5xl font-extrabold text-krishi-dark mb-4">Welcome to Krishi Thunai!</h1>
            <p class="text-krishi-earth text-xl mb-6">Your AI-powered companion for sustainable and smart farming. Use our tools for detection, monitoring, and real-time market insights.</p>
            <button class="btn-primary" onclick="navigateTo('crop-analysis')"><i class="fas fa-microscope mr-2"></i> Start Crop Analysis</button>
            <button class="btn-secondary ml-4" onclick="navigateTo('dashboard')"><i class="fas fa-tachometer-alt mr-2"></i> View Dashboard</button>
        </section>

        <!-- Crop Analysis Section (UPDATED FOR IMAGE UPLOAD) -->
        <section id="crop-analysis" class="page-section hidden p-8 bg-white rounded-xl shadow-2xl transition duration-300">
            <h2 class="text-4xl font-extrabold text-krishi-green mb-6 border-b-2 pb-2 border-krishi-bg">ðŸ”¬ AI Crop & Disease Detection</h2>
            <p class="text-krishi-earth font-semibold mb-6">Upload a clear photo of the leaf (Chili, Cauliflower, or Radish) for instant diagnosis and severity estimation.</p>

            <form id="analysisForm" enctype="multipart/form-data" class="space-y-6">
                <div class="w-full">
                    <label for="cropImage" class="input-label mb-2 block"><i class="fas fa-camera mr-2"></i> Upload Crop Image</label>
                    <input type="file" id="cropImage" name="file" accept="image/*" class="w-full p-3 border border-gray-300 rounded-lg focus:border-krishi-green focus:ring-1 focus:ring-krishi-green transition" required>
                    <div id="image-preview" class="mt-4 p-4 border-2 border-dashed border-gray-300 rounded-lg hidden">
                        <img id="preview-img" src="#" alt="Image Preview" class="max-w-full h-auto rounded-lg mx-auto shadow-md">
                    </div>
                </div>
                
                <button type="submit" class="btn-primary w-full" id="analyzeBtn">
                    <i class="fas fa-brain mr-2"></i> Analyze Crop Health
                </button>
                <p id="analysis-status" class="text-center font-semibold text-krishi-orange"></p>
            </form>

            <!-- Results Display -->
            <div id="analysis-results" class="mt-8 p-6 bg-krishi-bg rounded-xl border-l-4 border-krishi-green shadow-inner hidden">
                <h3 class="text-2xl font-bold text-krishi-dark mb-4"><i class="fas fa-vial mr-2"></i> Diagnosis Report</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-lg">
                    <p><strong>Diagnosis:</strong> <span id="res-prediction" class="font-bold text-krishi-green"></span></p>
                    <p><strong>Confidence:</strong> <span id="res-confidence" class="font-bold"></span></p>
                    <p><strong>Severity:</strong> <span id="res-severity" class="font-bold text-krishi-orange"></span></p>
                    <p><strong>Crop Type:</strong> <span id="res-crop" class="font-bold"></span></p>
                </div>
                <button class="btn-secondary mt-6"><i class="fas fa-file-pdf mr-2"></i> Generate PDF Report</button>
            </div>
        </section>

        <!-- Other Sections (for full feature list) -->
        <section id="dashboard" class="page-section hidden p-8 bg-white rounded-xl shadow-2xl">
            <h2 class="text-4xl font-extrabold text-krishi-green mb-6"><i class="fas fa-tachometer-alt mr-2"></i> Farm Management Dashboard</h2>
            <p class="text-krishi-earth">This is your centralized hub for Farm Management, Irrigation Tracking, Sowing Calendar, and Fertilizer/Pesticide Reminders. (Future Feature)</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
                <div class="p-4 bg-krishi-bg rounded-lg shadow-md"><h3 class="font-bold text-krishi-dark"><i class="fas fa-calendar-alt mr-2"></i> Sowing Calendar</h3><p>Next task: Chili planting in 5 days.</p></div>
                <div class="p-4 bg-krishi-bg rounded-lg shadow-md"><h3 class="font-bold text-krishi-dark"><i class="fas fa-tint mr-2"></i> Irrigation Tracking</h3><p>Last water usage: 5,000 liters. Next irrigation due tomorrow.</p></div>
                <div class="p-4 bg-krishi-bg rounded-lg shadow-md"><h3 class="font-bold text-krishi-dark"><i class="fas fa-money-bill-wave mr-2"></i> Expense Tracker</h3><p>Total expenses this month: â‚¹ 12,500.</p></div>
            </div>
        </section>

        <section id="chat" class="page-section hidden p-8 bg-white rounded-xl shadow-2xl">
            <h2 class="text-4xl font-extrabold text-krishi-green mb-6"><i class="fas fa-comments mr-2"></i> Multilingual Smart Chatbot</h2>
            <p class="text-krishi-earth">Ask questions in Tamil, Hindi, or English! The chatbot can advise on soil, pests, and market prices. (Future Feature: Connects to Gemini API)</p>
            <div class="h-96 bg-krishi-bg rounded-lg p-4 mt-4 overflow-y-auto border border-gray-200">
                <div class="chat-message bot">Vanakkam! How can I assist your farming today? (Tamil/English/Hindi supported)</div>
                <!-- Chat messages would be injected here -->
            </div>
            <input type="text" placeholder="Type your message..." class="w-full mt-4 p-3 border border-gray-300 rounded-lg">
        </section>
        
        <section id="market-intel" class="page-section hidden p-8 bg-white rounded-xl shadow-2xl">
            <h2 class="text-4xl font-extrabold text-krishi-green mb-6"><i class="fas fa-chart-line mr-2"></i> Market Intelligence</h2>
            <p class="text-krishi-earth">Real-time Mandi (Agmarknet) prices, trends, and forecasts for your crops. (Future Feature)</p>
            <!-- Mock market data -->
            <ul class="list-disc list-inside mt-4 space-y-2 text-krishi-earth">
                <li>**Chili (Red):** â‚¹ 55/kg (Up 2% today)</li>
                <li>**Cauliflower:** â‚¹ 15/kg (Stable)</li>
                <li>**Radish:** â‚¹ 8/kg (Down 5% - Forecast: Sell soon)</li>
            </ul>
        </section>


    </main>

    <!-- Modal for Login/Registration (Mock) -->
    <div id="auth-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white p-6 rounded-xl shadow-2xl w-full max-w-sm transition-all transform scale-100">
            <h3 id="auth-title" class="text-2xl font-bold text-krishi-dark mb-4 border-b pb-2">Login</h3>
            <form id="auth-form" class="space-y-4">
                <div>
                    <label for="email" class="input-label">Email</label>
                    <input type="email" id="email" class="input-field" required>
                </div>
                <div>
                    <label for="password" class="input-label">Password</label>
                    <input type="password" id="password" class="input-field" required>
                </div>
                <button type="submit" id="auth-submit-btn" class="btn-primary w-full">Login</button>
            </form>
            <p class="mt-4 text-center">
                <button id="toggle-auth" class="text-krishi-green hover:text-krishi-dark text-sm">Need an account? Register</button>
            </p>
            <button class="absolute top-2 right-2 text-gray-500 hover:text-gray-900" onclick="document.getElementById('auth-modal').classList.add('hidden')"><i class="fas fa-times"></i></button>
        </div>
    </div>
    
    <!-- Custom JavaScript -->
    <script src="script.js"></script>

</body>
</html>
